"use strict";(self.webpackChunkpakki=self.webpackChunkpakki||[]).push([[438],{69438:(J,m,a)=>{a.r(m),a.d(m,{DiscountsModule:()=>F});var u=a(94666),g=a(5830),f=a(22607),e=a(22560),r=a(2508),p=a(69706),c=a(92302),h=a(60598),Z=a.n(h),v=a(75074),b=a(31267);function C(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"tr",11)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"button",26),e.NdJ("click",function(){const o=e.CHM(t),l=o.index,d=o.$implicit,x=e.oxw();return e.KtG(x.updateOne(l,d))}),e.TgZ(13,"span",27),e._uU(14," edit "),e.qZA()()()()}if(2&n){const t=s.$implicit;e.xp6(2),e.Oqu(t.Weight),e.xp6(2),e.Oqu(t.Fee),e.xp6(2),e.Oqu(t.RateIncrease),e.xp6(2),e.Oqu(t.PakkiDiscount),e.xp6(2),e.Oqu(t.RateIncrease)}}const A=function(n){return{itemsPerPage:5,currentPage:n}};let T=(()=>{class n{constructor(t,i,o){this.apiservice=t,this.sweetalertservice=i,this.fb=o,this.filter="",this.p=1}ngOnInit(){this.modifiedData=this.fb.group({companyDiscountID:[""],Fee:[""],PakkiDiscount:[""],PakkiIncrease:[""],RateIncrease:[""],Weight:[""],dataID:[""],Country:[""]})}ngOnChanges(t){t.id&&this.id&&(this.modifiedData.patchValue({companyDiscountID:this.id}),this.getDataUserbyDoc())}sendData(){console.log(this.modifiedData.value),this.apiservice.post("cd/fid",this.modifiedData.value).subscribe(t=>{Z().fire({icon:"success",title:"Actualizado correctamente",confirmButtonText:"Aceptar"})},t=>{console.log("error al actualizar usuario",t),this.sweetalertservice.errorMessage("Error al actualizar usuario")})}removeData(){}updateOne(t,i){console.log(t,i),this.modifiedData.patchValue({Weight:i.Weight}),this.modifiedData.patchValue({Fee:i.Fee}),this.modifiedData.patchValue({RateIncrease:i.RateIncrease}),this.modifiedData.patchValue({PakkiIncrease:i.PakkiIncrease}),this.modifiedData.patchValue({PakkiDiscount:i.PakkiDiscount}),this.modifiedData.patchValue({Country:i.Country}),this.modifiedData.patchValue({dataID:i._id}),console.log("valor form",this.modifiedData.value),this.openModal("viewbyid")}getDataUserbyDoc(){this.id&&this.apiservice.post("cd/fid",{companyDiscountID:this.id}).subscribe(i=>{console.log("res",i.msg),console.log("res",i.msg[0].Data),this.dataProvider=i.msg[0].Data},i=>{console.log("error al consultar data por provedor",i)})}openModal(t){$(`#${t}`).modal("show")}closeModal(t){$(`#${t}`).modal("hide")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.s),e.Y36(f.P),e.Y36(r.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-viewone"]],inputs:{id:"id"},features:[e.TTD],decls:61,vars:7,consts:[["id","viewone","data-backdrop","static","data-keyboard","false","tabindex","-1","role","dialog",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container-fluid"],[1,"table-responsive"],[1,"table"],[1,"text-black","text-center"],["class","text-black text-center",4,"ngFor","ngForOf"],["previousLabel","Anterior","nextLabel","Siguiente",1,"my-pagination","text-center",3,"pageChange"],["id","viewbyid","data-backdrop","static","data-keyboard","false","tabindex","-1","role","dialog",1,"modal","fade"],[3,"formGroup"],[1,"row"],[1,"col-2"],[1,"w-100"],["type","text","name","firstname","matInput","","id","text","formControlName","Weight","placeholder","Peso"],["type","text","name","firstname","matInput","","id","text","formControlName","Fee","placeholder","Fee"],["type","text","name","firstname","matInput","","id","text","formControlName","RateIncrease","placeholder","RateIncrease"],["type","text","name","firstname","matInput","","id","text","formControlName","PakkiIncrease","placeholder","PakkiIncrease"],[1,"col-3"],["type","text","name","firstname","matInput","","id","text","formControlName","PakkiDiscount","placeholder","PakkiDiscount"],["type","button",1,"btn","btn-warning","float-right",3,"click"],["type","button",1,"btn","btn-warning","btn-sm","float-right",3,"click"],[1,"material-symbols-outlined"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),e._uU(5,"Actualizar Descuento Proveedor"),e.qZA(),e.TgZ(6,"button",5),e.NdJ("click",function(){return i.removeData()}),e.TgZ(7,"span",6),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",7)(10,"div",8)(11,"div",9)(12,"table",10)(13,"thead",11)(14,"tr")(15,"th"),e._uU(16,"Peso"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Fee"),e.qZA(),e.TgZ(19,"th"),e._uU(20,"Ratio increase"),e.qZA(),e.TgZ(21,"th"),e._uU(22,"Pakki increase"),e.qZA(),e.TgZ(23,"th"),e._uU(24,"Pakki discount"),e.qZA(),e.TgZ(25,"th"),e._uU(26,"Acciones"),e.qZA()()(),e.TgZ(27,"tbody"),e.YNc(28,C,15,5,"tr",12),e.ALo(29,"paginate"),e.qZA()(),e.TgZ(30,"pagination-controls",13),e.NdJ("pageChange",function(l){return i.p=l}),e.qZA()()()()()()(),e.TgZ(31,"div",14)(32,"div",1)(33,"div",2)(34,"div",3)(35,"h4",4),e._uU(36,"Ingrese nuevos datos"),e.qZA(),e.TgZ(37,"button",5),e.NdJ("click",function(){return i.closeModal("viewbyid")}),e.TgZ(38,"span",6),e._uU(39,"\xd7"),e.qZA()()(),e.TgZ(40,"div",7)(41,"div",8)(42,"form",15)(43,"div",16)(44,"div",17)(45,"mat-form-field",18),e._UZ(46,"input",19),e.qZA()(),e.TgZ(47,"div",17)(48,"mat-form-field",18),e._UZ(49,"input",20),e.qZA()(),e.TgZ(50,"div",17)(51,"mat-form-field",18),e._UZ(52,"input",21),e.qZA()(),e.TgZ(53,"div",17)(54,"mat-form-field",18),e._UZ(55,"input",22),e.qZA()(),e.TgZ(56,"div",23)(57,"mat-form-field",18),e._UZ(58,"input",24),e.qZA()()(),e.TgZ(59,"button",25),e.NdJ("click",function(){return i.sendData()}),e._uU(60," Guardar cambios "),e.qZA()()()()()()()),2&t&&(e.xp6(28),e.Q6J("ngForOf",e.xi3(29,2,i.dataProvider,e.VKq(5,A,i.p))),e.xp6(14),e.Q6J("formGroup",i.modifiedData))},dependencies:[u.sg,r._Y,r.Fj,r.JJ,r.JL,v.KE,b.Nt,r.sg,r.u,c.LS,c._s],styles:[".my-pagination[_ngcontent-%COMP%]     .ngx-pagination .current {\r\n    background: orange;\r\n  }\r\n\r\n  #viewbyid.modal[_ngcontent-%COMP%] {\r\n    margin-top: 100px; \r\n  }\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZpZXdvbmUuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGtCQUFrQjtFQUNwQjs7RUFFQTtJQUNFLGlCQUFpQixFQUFFLDBDQUEwQztFQUMvRCIsImZpbGUiOiJ2aWV3b25lLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubXktcGFnaW5hdGlvbiA6Om5nLWRlZXAgLm5neC1wYWdpbmF0aW9uIC5jdXJyZW50IHtcclxuICAgIGJhY2tncm91bmQ6IG9yYW5nZTtcclxuICB9XHJcblxyXG4gICN2aWV3YnlpZC5tb2RhbCB7XHJcbiAgICBtYXJnaW4tdG9wOiAxMDBweDsgLyogQWp1c3RhIGVsIHZhbG9yIHNlZ8O6biB0dXMgbmVjZXNpZGFkZXMgKi9cclxuICB9Il19 */"]}),n})(),y=(()=>{class n{transform(t,i){return t&&i?(i=i.toLowerCase(),t.filter(o=>{const l=o.Provider.toLowerCase(),d=o.ServiceType.toLowerCase();return l.includes(i)||d.includes(i)})):t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"filterproviders",type:n,pure:!0}),n})();function I(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"tr",12)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"button",16),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.openModal("viewone"))}),e.TgZ(9,"span",17),e._uU(10," search "),e.qZA()()()()}if(2&n){const t=s.$implicit;e.xp6(2),e.Oqu(t.Provider),e.xp6(2),e.Oqu(t.ServiceName),e.xp6(2),e.Oqu(t.ServiceType)}}const D=function(n){return{itemsPerPage:5,currentPage:n}},U=[{path:"",children:[{path:"all",component:(()=>{class n{constructor(t,i,o,l,d){this.fb=t,this.apiservice=i,this.sweetalertservice=o,this.route=l,this.router=d,this.filter="",this.p=1}ngOnInit(){this.getData()}getData(){this.apiservice.get("cd/allpro").subscribe(t=>{console.log(t),this.datadiscounts=t.msg},t=>{console.log("error al consultar usuarios",t)})}openModal(t,i){console.log(t,i),this.id="645411dd472fab7dea659dc9",$(`#${t}`).modal("show")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(r.qu),e.Y36(g.s),e.Y36(f.P),e.Y36(p.gz),e.Y36(p.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-all"]],decls:29,vars:11,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-12"],["name","filter","type","search","placeholder","Buscar...",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-header","card-header-icon","card-header-warning"],[1,"card-icon"],["aria-hidden","true",1,"fa","fa-percent"],[1,"table-responsive"],[1,"table"],[1,"text-black","text-center"],["class","text-black text-center",4,"ngFor","ngForOf"],["previousLabel","Anterior","nextLabel","Siguiente",1,"my-pagination","text-center",3,"pageChange"],[3,"id"],["data-toggle","tooltip","data-placement","top","title","Buscar C\xf3digo postal",1,"btn","btn-warning","btn-sm",3,"click"],[1,"material-symbols-outlined"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"input",4),e.NdJ("ngModelChange",function(l){return i.filter=l}),e.qZA()()(),e.TgZ(5,"div",2)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8),e._UZ(10,"i",9),e.qZA()(),e.TgZ(11,"div",10)(12,"table",11)(13,"thead",12)(14,"tr")(15,"th"),e._uU(16,"Proveedor"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Nombre de servicio"),e.qZA(),e.TgZ(19,"th"),e._uU(20,"Tipo de servicio"),e.qZA(),e.TgZ(21,"th"),e._uU(22,"Acciones"),e.qZA()()(),e.TgZ(23,"tbody"),e.YNc(24,I,11,3,"tr",13),e.ALo(25,"paginate"),e.ALo(26,"filterproviders"),e.qZA()(),e.TgZ(27,"pagination-controls",14),e.NdJ("pageChange",function(l){return i.p=l}),e.qZA()()()()()()(),e._UZ(28,"app-viewone",15)),2&t&&(e.xp6(4),e.Q6J("ngModel",i.filter),e.xp6(20),e.Q6J("ngForOf",e.xi3(25,3,e.xi3(26,6,i.datadiscounts,i.filter),e.VKq(9,D,i.p))),e.xp6(4),e.Q6J("id",i.id))},dependencies:[u.sg,r.Fj,r.JJ,r.On,c.LS,T,c._s,y],styles:[".my-pagination[_ngcontent-%COMP%]     .ngx-pagination .current {\r\n    background: orange;\r\n  }\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFsbC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksa0JBQWtCO0VBQ3BCIiwiZmlsZSI6ImFsbC5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm15LXBhZ2luYXRpb24gOjpuZy1kZWVwIC5uZ3gtcGFnaW5hdGlvbiAuY3VycmVudCB7XHJcbiAgICBiYWNrZ3JvdW5kOiBvcmFuZ2U7XHJcbiAgfSJdfQ== */"]}),n})()}]}];var k=a(23938),_=a(71969);let F=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.ez,p.Bz.forChild(U),r.u5,k.q,r.UX,_.K,c.JX]}),n})()}}]);
//# sourceMappingURL=438.8723434019eab18e.js.map